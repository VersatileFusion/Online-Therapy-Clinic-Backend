# Online Therapy Clinic Backend | Ø¨Ú©â€ŒØ§Ù†Ø¯ Ú©Ù„ÛŒÙ†ÛŒÚ© Ø¯Ø±Ù…Ø§Ù† Ø¢Ù†Ù„Ø§ÛŒÙ†

A comprehensive backend system for an online psychology clinic, built with Express.js and PostgreSQL.
Ø³ÛŒØ³ØªÙ… Ø¬Ø§Ù…Ø¹ Ø¨Ú©â€ŒØ§Ù†Ø¯ Ø¨Ø±Ø§ÛŒ Ú©Ù„ÛŒÙ†ÛŒÚ© Ø±ÙˆØ§Ù†Ø´Ù†Ø§Ø³ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†ØŒ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ Express.js Ùˆ PostgreSQL.

## Features | ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§

- ğŸ” Secure authentication and authorization | Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ùˆ Ù…Ø¬ÙˆØ²Ø¯Ù‡ÛŒ Ø§Ù…Ù†
- ğŸ‘¥ User management (Clients, Therapists, Admins) | Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† (Ù…Ø´ØªØ±ÛŒØ§Ù†ØŒ Ø¯Ø±Ù…Ø§Ù†Ú¯Ø±Ø§Ù†ØŒ Ù…Ø¯ÛŒØ±Ø§Ù†)
- ğŸ’¬ AI-powered initial assessment chat | Ú†Øª Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
- ğŸ“… Appointment scheduling and management | Ø²Ù…Ø§Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª
- ğŸ“ Session notes and progress tracking | ÛŒØ§Ø¯Ø¯Ø§Ø´Øªâ€ŒÙ‡Ø§ÛŒ Ø¬Ù„Ø³Ù‡ Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù¾ÛŒØ´Ø±ÙØª
- ğŸ“§ Email notifications | Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ…ÛŒÙ„ÛŒ
- ğŸ”” Real-time notifications | Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¨Ù„Ø§Ø¯Ø±Ù†Ú¯
- ğŸŒ Multi-language support (English, Persian) | Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú†Ù†Ø¯ Ø²Ø¨Ø§Ù†Ù‡ (Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒØŒ ÙØ§Ø±Ø³ÛŒ)
- ğŸ“± File upload and management | Ø¢Ù¾Ù„ÙˆØ¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª ÙØ§ÛŒÙ„
- ğŸ“Š SEO optimization | Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÙˆØªÙˆØ±Ù‡Ø§ÛŒ Ø¬Ø³ØªØ¬Ùˆ
- ğŸ“ Blog system with CMS | Ø³ÛŒØ³ØªÙ… ÙˆØ¨Ù„Ø§Ú¯ Ø¨Ø§ CMS
- ğŸ“ˆ Analytics and reporting | ØªØ­Ù„ÛŒÙ„ Ùˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ

## Tech Stack | ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡

- **Runtime:** Node.js
- **Framework:** Express.js
- **Database:** PostgreSQL
- **ORM:** Sequelize
- **Authentication:** JWT
- **Real-time:** Socket.IO
- **File Upload:** Multer
- **Email:** Nodemailer
- **AI Integration:** OpenAI API
- **Logging:** Winston
- **Documentation:** Swagger
- **Internationalization:** i18next

## Prerequisites | Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

- Node.js (v14 or higher | Ù†Ø³Ø®Ù‡ Û±Û´ ÛŒØ§ Ø¨Ø§Ù„Ø§ØªØ±)
- PostgreSQL (v12 or higher | Ù†Ø³Ø®Ù‡ Û±Û² ÛŒØ§ Ø¨Ø§Ù„Ø§ØªØ±)
- Redis (for session management | Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø´Ø³Øª)
- SMTP server (for email notifications | Ø¨Ø±Ø§ÛŒ Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ…ÛŒÙ„ÛŒ)

## Installation | Ù†ØµØ¨

1. Clone the repository | Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù† Ù…Ø®Ø²Ù†:

   ```bash
   git clone https://github.com/yourusername/online-therapy-clinic.git
   cd online-therapy-clinic
   ```

2. Install dependencies | Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§:

   ```bash
   npm install
   ```

3. Create a `.env` file in the root directory | Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ `.env` Ø¯Ø± Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ Ø§ØµÙ„ÛŒ:

   ```env
   # Server Configuration | ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø³Ø±ÙˆØ±
   PORT=3000
   NODE_ENV=development

   # Database Configuration | ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡
   DB_HOST=localhost
   DB_PORT=5432
   DB_NAME=online_therapy
   DB_USER=postgres
   DB_PASSWORD=your_password

   # JWT Configuration | ØªÙ†Ø¸ÛŒÙ…Ø§Øª JWT
   JWT_SECRET=your_jwt_secret
   JWT_EXPIRES_IN=24h

   # Email Configuration | ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§ÛŒÙ…ÛŒÙ„
   SMTP_HOST=smtp.gmail.com
   SMTP_PORT=587
   SMTP_USER=your_email@gmail.com
   SMTP_PASS=your_app_specific_password

   # AI Configuration | ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
   AI_API_KEY=your_openai_api_key
   AI_MODEL=gpt-4

   # File Upload | Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„
   UPLOAD_DIR=uploads
   MAX_FILE_SIZE=5242880
   ```

4. Initialize the database | Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡:

   ```bash
   npm run db:init
   ```

5. Start the development server | Ø´Ø±ÙˆØ¹ Ø³Ø±ÙˆØ± ØªÙˆØ³Ø¹Ù‡:
   ```bash
   npm run dev
   ```

## API Documentation | Ù…Ø³ØªÙ†Ø¯Ø§Øª API

The API documentation is available at `/api-docs` when the server is running. It provides detailed information about all available endpoints, request/response formats, and authentication requirements.
Ù…Ø³ØªÙ†Ø¯Ø§Øª API Ø¯Ø± Ø¢Ø¯Ø±Ø³ `/api-docs` Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª. Ø§ÛŒÙ† Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ù‚ÛŒÙ‚ÛŒ Ø¯Ø±Ø¨Ø§Ø±Ù‡ ØªÙ…Ø§Ù… Ù†Ù‚Ø§Ø· Ù¾Ø§ÛŒØ§Ù†ÛŒ Ù…ÙˆØ¬ÙˆØ¯ØŒ ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª/Ù¾Ø§Ø³Ø® Ùˆ Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

## Project Structure | Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡

```
src/
â”œâ”€â”€ config/         # Configuration files | ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ
â”œâ”€â”€ middleware/     # Express middleware | Ù…ÛŒØ¯Ù„ÙˆØ±Ù‡Ø§ÛŒ Express
â”œâ”€â”€ models/         # Database models | Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡
â”œâ”€â”€ routes/         # API routes | Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ API
â”œâ”€â”€ services/       # Business logic | Ù…Ù†Ø·Ù‚ Ú©Ø³Ø¨ Ùˆ Ú©Ø§Ø±
â”œâ”€â”€ utils/          # Utility functions | ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ
â””â”€â”€ index.js        # Application entry point | Ù†Ù‚Ø·Ù‡ ÙˆØ±ÙˆØ¯ Ø¨Ø±Ù†Ø§Ù…Ù‡
```

## Key Features | ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ

### Authentication & Authorization | Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ùˆ Ù…Ø¬ÙˆØ²Ø¯Ù‡ÛŒ

- JWT-based authentication | Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± JWT
- Role-based access control | Ú©Ù†ØªØ±Ù„ Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± Ù†Ù‚Ø´
- Secure password hashing | Ù‡Ø´ Ú©Ø±Ø¯Ù† Ø§Ù…Ù† Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±
- Session management | Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø´Ø³Øª

### AI-Powered Assessment | Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ

- Chat-based initial assessment | Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± Ú†Øª
- Intelligent therapist matching | ØªØ·Ø¨ÛŒÙ‚ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¯Ø±Ù…Ø§Ù†Ú¯Ø±
- Risk assessment | Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ Ø±ÛŒØ³Ú©
- Progress tracking | Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù¾ÛŒØ´Ø±ÙØª

### Appointment Management | Ù…Ø¯ÛŒØ±ÛŒØª Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª

- Real-time scheduling | Ø²Ù…Ø§Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ù„Ø§Ø¯Ø±Ù†Ú¯
- Calendar integration | ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ ØªÙ‚ÙˆÛŒÙ…
- Automated reminders | ÛŒØ§Ø¯Ø¢ÙˆØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±
- Session notes | ÛŒØ§Ø¯Ø¯Ø§Ø´Øªâ€ŒÙ‡Ø§ÛŒ Ø¬Ù„Ø³Ù‡

### Multi-language Support | Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú†Ù†Ø¯ Ø²Ø¨Ø§Ù†Ù‡

- English and Persian languages | Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ùˆ ÙØ§Ø±Ø³ÛŒ
- Dynamic content translation | ØªØ±Ø¬Ù…Ù‡ Ù¾ÙˆÛŒØ§ÛŒ Ù…Ø­ØªÙˆØ§
- Language detection | ØªØ´Ø®ÛŒØµ Ø²Ø¨Ø§Ù†
- RTL support | Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ø±Ø§Ø³Øª Ø¨Ù‡ Ú†Ù¾

### File Management | Ù…Ø¯ÛŒØ±ÛŒØª ÙØ§ÛŒÙ„

- Secure file uploads | Ø¢Ù¾Ù„ÙˆØ¯ Ø§Ù…Ù† ÙØ§ÛŒÙ„
- File type validation | Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù†ÙˆØ¹ ÙØ§ÛŒÙ„
- Size restrictions | Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ù†Ø¯Ø§Ø²Ù‡
- Organized storage | Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ù†Ø¸Ù…

### SEO Optimization | Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÙˆØªÙˆØ±Ù‡Ø§ÛŒ Ø¬Ø³ØªØ¬Ùˆ

- Dynamic meta tags | Ù…ØªØ§ØªÚ¯â€ŒÙ‡Ø§ÛŒ Ù¾ÙˆÛŒØ§
- Sitemap generation | ØªÙˆÙ„ÛŒØ¯ Ù†Ù‚Ø´Ù‡ Ø³Ø§ÛŒØª
- Robots.txt | ÙØ§ÛŒÙ„ robots.txt
- Keyword optimization | Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ

## Contributing | Ù…Ø´Ø§Ø±Ú©Øª

1. Fork the repository | ÙÙˆØ±Ú© Ú©Ø±Ø¯Ù† Ù…Ø®Ø²Ù†
2. Create your feature branch | Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø§Ø®Ù‡ ÙˆÛŒÚ˜Ú¯ÛŒ Ø®ÙˆØ¯
   ```bash
   git checkout -b feature/amazing-feature
   ```
3. Commit your changes | Ø«Ø¨Øª ØªØºÛŒÛŒØ±Ø§Øª Ø®ÙˆØ¯
   ```bash
   git commit -m 'Add some amazing feature'
   ```
4. Push to the branch | Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ø´Ø§Ø®Ù‡
   ```bash
   git push origin feature/amazing-feature
   ```
5. Open a Pull Request | Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø§Ø¯ØºØ§Ù…

## License | Ù…Ø¬ÙˆØ²

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ØªØ­Øª Ù…Ø¬ÙˆØ² MIT Ù…Ù†ØªØ´Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª - Ø¨Ø±Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨Ù‡ ÙØ§ÛŒÙ„ [LICENSE](LICENSE) Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.

## Support | Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

For support, email support@onlinetherapyclinic.com or create an issue in the repository.
Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒØŒ Ø¨Ù‡ Ø¢Ø¯Ø±Ø³ support@onlinetherapyclinic.com Ø§ÛŒÙ…ÛŒÙ„ Ø¨Ø²Ù†ÛŒØ¯ ÛŒØ§ ÛŒÚ© issue Ø¯Ø± Ù…Ø®Ø²Ù† Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯.
